#!/usr/bin/env python3

import os
import re

def ignore(path, name):

  r  = False
# r |= bool(re.search(r'^\..*$',     name))
# r |= bool(re.search('(^_.*|.*_$)', name))

  return r

def run():

  queue = [os.getcwd()]
  cnt   = 0

  while 0 < len(queue):

    q = queue.pop()

    try:

      for item in os.listdir(q):

        item_path = q + '/' + item

        if ignore(q, item):
          continue

        if os.path.islink(item_path):
          pass
        elif os.path.isdir(item_path):
          queue.append(item_path)
        elif os.path.isfile(item_path):
          cnt += 1
          print(item_path)

    except PermissionError as e:
      pass

if __name__ == '__main__':
  try:
    run()
  except KeyboardInterrupt:
    pass
