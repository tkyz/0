#!/bin/bash

set -o errexit
set -o nounset
set -o pipefail

(

  ghash_seeds=()
  ghash_seeds+=('0000000000000000000000000000000000000000000000000000000000000000')
# ghash_seeds+=("$(machine_id)")
# ghash_seeds+=("$(boot_id)")
# ghash_seeds+=("$(openpgp4fpr)")
# ghash_seeds+=("$(ptinrf '' | sha256sum | cut -b 1-64)")

  ghash="$(printf '/%s' "${ghash_seeds[@]}" | sed 's#^/##')"

  vhash="$(cat << EOS | sha256sum | cut -b 1-64
${ghash}
${@}
EOS
)"

  echo "${vhash}"

)
